<html>
  <head>
    <title>Example</title>
  </head>
  <body>
    <script type="text/javascript" src="../../release/cEngine.js"></script>
    <script type="text/javascript" src="../../release/plugins/cEngine.input.js"></script>
    <form>
      <span>controls:</span><br/>
       <p>w - a - s - d</p>
    </form>
    <script type="text/javascript">
    
      var player = {
            x: 0,
            y: 0
          },
          lastTab = undefined,
          lastPan = undefined,
          engine = cEngine.create({
            autoClear: true,
            plugins: {
              input: cEngine.input.create({
                onTap: (ev) => {
                  lastTab = ev
                },
                onPan: (ev) => {
                  lastPan = ev
                }
              })
            },
            step: function(context){
              if (engine.plugins.input.keys.W) player.y--
              if (engine.plugins.input.keys.A) player.x--
              if (engine.plugins.input.keys.S) player.y++
              if (engine.plugins.input.keys.D) player.x++

              context.fillStyle = 'red'
              context.fillRect(player.x, player.y, 10, 10)

              if (lastTab) {
                context.fillRect(lastTab.x - 5, lastTab.y - 5, 5, 5)
              }

              if (lastPan) {
                context.fillRect(lastPan.x - 5, lastPan.y -5,  5, 5)
              }
            }
          })

          engine.start()

    </script>
  </body>
</html>