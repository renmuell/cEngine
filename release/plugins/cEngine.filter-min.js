!function t(n,e,r){function a(u,i){if(!e[u]){if(!n[u]){var f="function"==typeof require&&require;if(!i&&f)return f(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var s=e[u]={exports:{}};n[u][0].call(s.exports,function(t){var e=n[u][1][t];return a(e?e:t)},s,s.exports,t,n,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)a(r[u]);return a}({1:[function(t,n,e){"use strict";!function(t){t.extend("filter",{version:"0.0.3",create:function(t){var n={cEnginePlugin:!0,list:t.filters||[],postStep:function(t,e,r){if(0!=n.list.length){var a,o=!0;for(a=0;a<n.list.length;a++)if("undefined"==typeof n.list[a].run||n.list[a].run){o=!1;break}if(!o){var u=n.getImageData(t,e,r);for(a=0;a<n.list.length;a++)("undefined"==typeof n.list[a].run||n.list[a].run)&&(n.list[a].Shader?u=n.Shader(u,n.list[a].Shader,n.list[a].factor):n.list[a].CustomFilter?u=n.list[a].CustomFilter(u):n.list[a].Convolver&&(u=n.Convolve(t,u,e,n.list[a].Convolver.data,n.list[a].Convolver.divisor,n.list[a].Convolver.offset)));n.setImageData(t,u)}}},Shader:function(t,n,e){for(var r=t.data,a=[],o=r.length,u=0;o>u;u+=4)a=n.call(this,r[u],r[u+1],r[u+2],r[u+3],e,u,o),r[u]=a[0],r[u+1]=a[1],r[u+2]=a[2],r[u+3]=a[3];return t},Convolve:function(t,n,e,r,a,o){var u=[].concat(r[0],r[1],r[2]);a||(a=u.reduce(function(t,n){return t+n})||1);for(var i=n.data,f=t.createImageData(n),s=f.data,l=s.length,c=0,d=e,g=0;l>g;g++)if((g+1)%4!==0){c=0;for(var m=[i[g-4*d-4]||i[g],i[g-4*d]||i[g],i[g-4*d+4]||i[g],i[g-4]||i[g],i[g],i[g+4]||i[g],i[g+4*d-4]||i[g],i[g+4*d]||i[g],i[g+4*d+4]||i[g]],v=0;9>v;v++)c+=m[v]*u[v];c/=a,o&&(c+=o),s[g]=c}else s[g]=i[g];return f},getImageData:function(t,n,e){return t.getImageData(0,0,n,e)},setImageData:function(t,n){return t.putImageData(n,0,0)}};return n},Shader:{noise2:function(t,n,e,r){return 0!=t&&0!=n&&0!=e&&0!=r&&(t=255*Math.random(),n=255*Math.random(),e=255*Math.random()),[t,n,e,r]},rgbToBrg:function(t,n,e){return[e,t,n,255]},rgbToRbg:function(t,n,e){return[t,e,n,255]},rgbToGbr:function(t,n,e){return[n,e,t,255]},rgbToGrB:function(t,n,e){return[n,t,e,255]},rgbToBgr:function(t,n,e){return[e,n,t,255]},transparent:function(t,n,e,r,a){return[t,n,e,a]},gradient:function(t,n,e,r,a,o,u){return[t,n,e,a+255*(u-o)/u]},greyscale:function(t,n,e){var r=.3*t+.59*n+.11*e;return[r,r,r,255]},sepia:function(t,n,e){var r=.3*t+.59*n+.11*e;return[r+100,r+50,r,255]},sepia2:function(t,n,e){return[(.393*t+.769*n+.189*e)/1.351,(.349*t+.686*n+.168*e)/1.203,(.272*t+.534*n+.131*e)/2.14,255]},gammaCorrect:function(t,n,e,r,a){return[255*Math.pow(t/255,a),255*Math.pow(n/255,a),255*Math.pow(e/255,a),255]},negative:function(t,n,e){return[255-t,255-n,255-e,255]},noGreen:function(t,n,e){return[t,0,e,255]},maxGreen:function(t,n,e){return[t,255,e,255]},onlyGreen:function(t,n){return[0,n,0,255]},maxAllButGreen:function(t,n){return[255,n,255,255]},brightness:function(t,n,e,r,a){return[t+a,n+a,e+a,255]},noise:function(t,n,e,r,a){if(0!=t&&0!=n&&0!=e&&0!=r){var o=(.5-Math.random())*a;return[t+o,n+o,e+o,255]}return[t,n,e,r]},randomClear:function(t,n,e,r,a){return 0!=t&&0!=n&&0!=e&&0!=r&&Math.random()<a&&(t=n=e=r=void 0),[t,n,e,r]}},Convolver:{smean_removal_sharpen:{name:"mean removal (sharpen)",data:[[-1,-1,-1],[-1,9,-1],[-1,-1,-1]]},sharpen:{name:"sharpen",data:[[0,-2,0],[-2,11,-2],[0,-2,0]]},blur:{name:"blur",data:[[1,2,1],[2,4,2],[1,2,1]]},emboss:{name:"emboss",data:[[2,0,0],[0,-1,0],[0,0,-1]],offset:127},emboss_subtle:{name:"emboss subtle",data:[[1,1,-1],[1,3,-1],[1,-1,-1]]},edge_detect:{name:"edge detect",data:[[1,1,1],[1,-7,1],[1,1,1]]},edge_detect_2:{name:"edge detect 2",data:[[-5,0,0],[0,0,0],[0,0,5]]}}})}(cEngine)},{}]},{},[1]);
//# sourceMappingURL=cEngine.filter-min.js.map
