{"version":3,"sources":["cEngine.fill.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length","1","module","cEngine","throttle","type","name","obj","window","running","func","requestAnimationFrame","dispatchEvent","CustomEvent","addEventListener","extend","create","config","fill","cEnginePlugin","version","mode","useFixedResolution","aspectRetion","useResolutionDevider","resolutionDevider","engine","undefined","initHeight","initWidth","init","width","height","resizeTo","resizeToRatio","domElement","style","position","canvas","top","left","clientWidth","clientHeight","destroy","removeEventListener","ratio","transformOrigin","transform"],"mappings":"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","file":"cEngine.fill-min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\n/*global cEngine */\n\n(function (cEngine) {\n\n  (function () {\n    var throttle = function throttle(type, name, obj) {\n      obj = obj || window;\n      var running = false;\n      var func = function func() {\n        if (running) {\n          return;\n        }\n        running = true;\n        requestAnimationFrame(function () {\n          obj.dispatchEvent(new CustomEvent(name));\n          running = false;\n        });\n      };\n      obj.addEventListener(type, func);\n    };\n\n    /* init - you can init any event */\n    throttle(\"resize\", \"optimizedResize\");\n  })();\n\n  cEngine.extend('fill', {\n\n    create: function create(config) {\n      config = config || {};\n\n      var fill = {\n\n        cEnginePlugin: {\n          name: 'fill',\n          version: '0.0.2'\n        },\n\n        /**\n         *  // full, stretch \n         *  @type {string}\n         */\n        mode: config.mode,\n\n        useFixedResolution: false,\n\n        aspectRetion: typeof config.aspectRetion != 'undefined' ? config.aspectRetion : false,\n\n        useResolutionDevider: typeof config.useResolutionDevider != 'undefined' ? config.useResolutionDevider : false,\n\n        /**\n         *  value for resolution devider\n         *  @type {number}\n         */\n        resolutionDevider: config.resolutionDevider || 2,\n\n        engine: undefined,\n\n        initHeight: undefined,\n        initWidth: undefined,\n\n        init: function init(engine) {\n          fill.engine = engine;\n          fill.initWidth = engine.width;\n          fill.initHeight = engine.height;\n\n          if (fill.mode === 'fill') {\n\n            window.addEventListener('optimizedResize', fill.resizeTo, false);\n            fill.resizeTo();\n          } else {\n\n            if (fill.aspectRetion) {\n              window.addEventListener('optimizedResize', fill.resizeToRatio, false);\n              fill.resizeToRatio();\n            }\n\n            if (fill.mode === 'stretch') {\n\n              if (engine.domElement.style.position === 'static') {\n                engine.domElement.style.position = 'relative';\n              }\n\n              engine.canvas.style.position = 'absolute';\n              engine.canvas.style.top = '0';\n              engine.canvas.style.left = '0';\n              engine.canvas.style.width = '100%';\n              engine.canvas.style.height = '100%';\n\n              engine.width = engine.domElement.clientWidth;\n              engine.height = engine.domElement.clientHeight;\n            }\n          }\n        },\n\n        destroy: function destroy() {\n          window.removeEventListener('optimizedResize', fill.resizeTo, false);\n          window.removeEventListener('optimizedResize', fill.resizeToRatio, false);\n        },\n\n        resizeToRatio: function resizeToRatio() {\n          var ratio = fill.engine.domElement.clientWidth / fill.engine.domElement.clientHeight;\n\n          fill.engine.canvas.height = fill.initHeight;\n          fill.engine.canvas.width = fill.engine.canvas.height * ratio;\n\n          fill.engine.width = fill.engine.domElement.clientWidth;\n          fill.engine.height = fill.engine.domElement.clientHeight;\n        },\n\n        resizeTo: function resizeTo() {\n          if (fill.useResolutionDevider) {\n\n            fill.engine.canvas.width = fill.engine.domElement.clientWidth / fill.engine.resolutionDevider;\n            fill.engine.canvas.height = fill.engine.domElement.clientHeight / fill.engine.resolutionDevider;\n            fill.engine.canvas.style.transformOrigin = '0% 0%';\n            var s = fill.resolutionDevider;\n            fill.engine.canvas.style.transform = 'scale(' + s + ', ' + s + ')';\n          } else {\n\n            fill.engine.canvas.width = fill.engine.domElement.clientWidth;\n            fill.engine.canvas.height = fill.engine.domElement.clientHeight;\n          }\n\n          fill.engine.width = fill.engine.domElement.clientWidth;\n          fill.engine.height = fill.engine.domElement.clientHeight;\n        }\n      };\n\n      return fill;\n    }\n  });\n})(cEngine);\n},{}]},{},[1])"],"sourceRoot":"/source/"}